<html ng-app="app">
<head>
	<title>jsPratiche!</title>
	<link rel="stylesheet" type="text/css" href="client/css/main.css">

	<script src="client/libs/jquery/dist/jquery.min.js"></script>
	<script src="client/libs/angular/angular.min.js"></script>
	<script src="client/libs/angular-route/angular-route.min.js"></script>
	<script src="client/libs/angular-resource/angular-resource.min.js"></script>

	<script src="client/libs/bootstrap/dist/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="client/libs/bootstrap/dist/css/bootstrap.min.css" />

	<script type="text/javascript" src="client/libs/moment/min/moment.min.js"></script>

	<script src="client/libs/angular-modal-service/dst/angular-modal-service.min.js"></script>

	<script src="client/libs/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
	<link rel="stylesheet" href="client/libs/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css" />

	<script src="client/libs/angular-bootstrap-datetimepicker-directive/angular-bootstrap-datetimepicker-directive.min.js"></script>
</head>
<body>

<div ng-view></div>
<footer class="container-fluid bg-4 text-center">
	<p>jsPratiche v1.2.2-build161028 - <a href="#">Miro Salvagni</a></p>
</footer>

<script type="text/ng-template" id="/main.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/main.html'"></div>
</script>

<script type="text/ng-template" id="/pratiche.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/pratiche.html'"></div>
</script>

<script type="text/ng-template" id="/pratiche-storico.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/praticheStorico.html'"></div>
</script>

<script type="text/ng-template" id="/praticaDetails.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/praticheDetails.html'"></div>
</script>

<script type="text/ng-template" id="/praticaStatoDetails.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/praticheStatoDetails.html'"></div>
</script>

<script type="text/ng-template" id="/anagrafiche.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/anagrafiche.html'"></div>
</script>

<script type="text/ng-template" id="/gestoreDetails.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/gestoreDetails.html'"></div>
</script>

<script type="text/ng-template" id="/integrazione.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/praticheIntegrazione.html'"></div>
</script>

<script type="text/ng-template" id="/comuneDetails.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/comuneDetails.html'"></div>
</script>

<script type="text/ng-template" id="/utenti.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/users.html'"></div>
</script>

<script type="text/ng-template" id="/utenteDetails.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/userDetails.html'"></div>
</script>

<script type="text/ng-template" id="/utentePass.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/userPass.html'"></div>
</script>

<script type="text/ng-template" id="/strumenti.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/strumenti.html'"></div>	
</script>

<script type="text/ng-template" id="/strumentoDetails.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/strumentiDetails.html'"></div>
</script>

<script type="text/ng-template" id="/catene.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/strumentiCatene.html'"></div>
</script>

<script type="text/ng-template" id="/catenaDetails.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/strumentiCatenaDetails.html'"></div>
</script>

<script type="text/ng-template" id="/calibrazioneDetails.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/strumentiCalibrazioneDetails.html'"></div>
</script>

<script type="text/ng-template" id="/strumentiRegistro.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/strumentiRegistro.html'"></div>
</script>

<script type="text/ng-template" id="/strumentiStorico.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/strumentiStorico.html'"></div>
</script>

<script type="text/ng-template" id="/chat-pm.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/chatPM.html'"></div>
</script>

<script type="text/ng-template" id="/chat-board.html">
	<div ng-include="'/client/templates/navbar.html'"></div>
	<div ng-include="'/client/templates/chatBoard.html'"></div>
</script>

<script>
var getTableRowClass = function(id) {

	if (!id|| id == 1)						// arrivata
		return "danger";
	else if (id == 2 || id == 3)			// in carico
		return "active";
	else if (id == 4 || id == 5)			// da correggere
		return "info";
	else if (id == 7)						// attesa integ
		return "warning";
	else if (id==8 || id==9 || id==6 || id==12)		// uscita/parere-condizionato
		return "success";
	else if (id==10 || id==11)				// cancellata/non-si-fa
		return "danger";

	return "";
}

var askconfirm = function(ModalService, next, textmessage) {
	ModalService.showModal({
		templateUrl: "client/templates/confirm.html",
		controller: "YesNoController",
		inputs: {
			message: textmessage
		}
	}).then(function(modal) {
		modal.element.modal();
		modal.close.then(function(result) {
			if (result) {
				next();
			}
		});
	});
}

angular.module('app', ['ngRoute', 'ngResource', 'angularModalService', 'datetimepicker'])

	// helper controllers
	.controller('YesNoController', ['$scope', 'message', 'close', function($scope, message, close) {
		$scope.message = message;
		$scope.close = function(result) {
			close(result, 500); // close, but give 500ms for bootstrap to animate
		};
	}])
	.controller('ProtoOUTController', ['$scope', '$element', 'title', 'close',  function($scope, $element, title, close) {
		$scope.protoout = null;
		$scope.date = new Date();
		$scope.title = title;

		$scope.close = function() {
			close({ protoout: $scope.protoout, date: $scope.date, approved: true }, 500);
		};

		$scope.cancel = function() {
			$element.modal('hide');
		};
	}])

	.config([
		'datetimepickerProvider',
		function (datetimepickerProvider) {
			datetimepickerProvider.setOptions({
				format: 'YYYY-MM-DD'
			});
		}
	])
	;
</script>

<script src="client/controllers/users.js"></script>
<script src="client/controllers/chat.js"></script>
<script src="client/controllers/main.js"></script>
<script src="client/controllers/comuni.js"></script>
<script src="client/controllers/gestori.js"></script>
<script src="client/controllers/pratiche.js"></script>
<script src="client/controllers/strumenti.js"></script>
<script src="client/controllers/routes.js"></script>


<!-- Update navbar active
<script>
	$(".nav a").on("click", function(){
		$(".nav").find(".active").removeClass("active");
		$(this).parent().addClass("active");
	});
</script> -->

</body>
</html>